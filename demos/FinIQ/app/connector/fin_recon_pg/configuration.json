{
    "version": "v2",
    "connection_uri": {
        "variable": "JDBC_URL"
    },
    "tables": [
        {
            "name": "public.acquirers",
            "description": null,
            "category": "TABLE",
            "columns": [
                {
                    "name": "acquirer_id",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": true,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 20
                        }
                    }
                },
                {
                    "name": "acquirer_name",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 255
                        }
                    }
                },
                {
                    "name": "acquirer_country",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 3
                        }
                    }
                },
                {
                    "name": "primary_currency",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 3
                        }
                    }
                },
                {
                    "name": "created_at",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "timestamp_without_time_zone"
                    }
                }
            ],
            "primary_keys": [
                "acquirer_id"
            ],
            "foreign_keys": {}
        },
        {
            "name": "public.auth_transactions",
            "description": "FinIQ: Authorization transactions representing initial card transaction requests",
            "category": "TABLE",
            "columns": [
                {
                    "name": "transaction_id",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": true,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 50
                        }
                    }
                },
                {
                    "name": "issuer_id",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 20
                        }
                    }
                },
                {
                    "name": "acquirer_id",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 20
                        }
                    }
                },
                {
                    "name": "merchant_id",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 20
                        }
                    }
                },
                {
                    "name": "transaction_amount",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "numeric",
                        "metadata": {
                            "type": "numeric",
                            "precision": 15,
                            "scale": 2
                        }
                    }
                },
                {
                    "name": "transaction_date",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "date"
                    }
                },
                {
                    "name": "transaction_timestamp",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "timestamp_without_time_zone"
                    }
                },
                {
                    "name": "transaction_type",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 50
                        }
                    }
                },
                {
                    "name": "issuer_currency",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 3
                        }
                    }
                },
                {
                    "name": "acquirer_currency",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 3
                        }
                    }
                },
                {
                    "name": "transaction_code",
                    "description": "Transaction response code: 000=approved, 100=decline, 101=pickup, 102=refer",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 10
                        }
                    }
                },
                {
                    "name": "card_last_four",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 4
                        }
                    }
                },
                {
                    "name": "authorization_status",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 20
                        }
                    }
                },
                {
                    "name": "created_at",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "timestamp_without_time_zone"
                    }
                }
            ],
            "primary_keys": [
                "transaction_id"
            ],
            "foreign_keys": {
                "fk_auth_acquirer": {
                    "column_mapping": {
                        "acquirer_id": "acquirer_id"
                    },
                    "foreign_collection": "public.acquirers"
                },
                "fk_auth_issuer": {
                    "column_mapping": {
                        "issuer_id": "issuer_id"
                    },
                    "foreign_collection": "public.issuers"
                },
                "fk_auth_merchant": {
                    "column_mapping": {
                        "merchant_id": "merchant_id"
                    },
                    "foreign_collection": "public.merchants"
                }
            }
        },
        {
            "name": "public.issuers",
            "description": null,
            "category": "TABLE",
            "columns": [
                {
                    "name": "issuer_id",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": true,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 20
                        }
                    }
                },
                {
                    "name": "issuer_name",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 255
                        }
                    }
                },
                {
                    "name": "issuer_country",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 3
                        }
                    }
                },
                {
                    "name": "primary_currency",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 3
                        }
                    }
                },
                {
                    "name": "created_at",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "timestamp_without_time_zone"
                    }
                }
            ],
            "primary_keys": [
                "issuer_id"
            ],
            "foreign_keys": {}
        },
        {
            "name": "public.merchants",
            "description": "FinIQ: Merchants accepting card payments",
            "category": "TABLE",
            "columns": [
                {
                    "name": "merchant_id",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": true,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 20
                        }
                    }
                },
                {
                    "name": "merchant_name",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 255
                        }
                    }
                },
                {
                    "name": "merchant_category_code",
                    "description": "ISO 18245 Merchant Category Code (MCC)",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 4
                        }
                    }
                },
                {
                    "name": "merchant_category_name",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 50
                        }
                    }
                },
                {
                    "name": "merchant_country",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 3
                        }
                    }
                },
                {
                    "name": "acquirer_id",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 20
                        }
                    }
                },
                {
                    "name": "annual_volume",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "numeric",
                        "metadata": {
                            "type": "numeric",
                            "precision": 15,
                            "scale": 2
                        }
                    }
                },
                {
                    "name": "risk_level",
                    "description": "Merchant risk classification: LOW, MEDIUM, HIGH",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 20
                        }
                    }
                },
                {
                    "name": "created_at",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "timestamp_without_time_zone"
                    }
                }
            ],
            "primary_keys": [
                "merchant_id"
            ],
            "foreign_keys": {
                "fk_merchant_acquirer": {
                    "column_mapping": {
                        "acquirer_id": "acquirer_id"
                    },
                    "foreign_collection": "public.acquirers"
                }
            }
        },
        {
            "name": "public.settlement_transactions",
            "description": "FinIQ: Settlement transactions representing final cleared payments",
            "category": "TABLE",
            "columns": [
                {
                    "name": "transaction_id",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": true,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 50
                        }
                    }
                },
                {
                    "name": "auth_transaction_id",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 50
                        }
                    }
                },
                {
                    "name": "issuer_id",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 20
                        }
                    }
                },
                {
                    "name": "acquirer_id",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 20
                        }
                    }
                },
                {
                    "name": "merchant_id",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 20
                        }
                    }
                },
                {
                    "name": "transaction_amount",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "numeric",
                        "metadata": {
                            "type": "numeric",
                            "precision": 15,
                            "scale": 2
                        }
                    }
                },
                {
                    "name": "transaction_date",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "date"
                    }
                },
                {
                    "name": "transaction_type",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 50
                        }
                    }
                },
                {
                    "name": "issuer_currency",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 3
                        }
                    }
                },
                {
                    "name": "acquirer_currency",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 3
                        }
                    }
                },
                {
                    "name": "acquirer_settlement_amount",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "numeric",
                        "metadata": {
                            "type": "numeric",
                            "precision": 15,
                            "scale": 2
                        }
                    }
                },
                {
                    "name": "issuer_settlement_amount",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "numeric",
                        "metadata": {
                            "type": "numeric",
                            "precision": 15,
                            "scale": 2
                        }
                    }
                },
                {
                    "name": "acquirer_settlement_date",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "date"
                    }
                },
                {
                    "name": "issuer_settlement_date",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "date"
                    }
                },
                {
                    "name": "transaction_settlement_date",
                    "nullable": false,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "date"
                    }
                },
                {
                    "name": "settlement_status",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "character_varying",
                        "metadata": {
                            "type": "length",
                            "length": 20
                        }
                    }
                },
                {
                    "name": "interchange_fee",
                    "description": "Fee charged by issuer to acquirer",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "numeric",
                        "metadata": {
                            "type": "numeric",
                            "precision": 15,
                            "scale": 2
                        }
                    }
                },
                {
                    "name": "network_fee",
                    "description": "Fee charged by card network (Amex/Visa/MC)",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "numeric",
                        "metadata": {
                            "type": "numeric",
                            "precision": 15,
                            "scale": 2
                        }
                    }
                },
                {
                    "name": "settlement_delta_pct",
                    "description": "Percentage variance between auth and settlement amounts",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "numeric",
                        "metadata": {
                            "type": "numeric",
                            "precision": 8,
                            "scale": 2
                        }
                    }
                },
                {
                    "name": "created_at",
                    "nullable": true,
                    "auto_increment": false,
                    "is_primarykey": false,
                    "data": {
                        "database_type": "timestamp_without_time_zone"
                    }
                }
            ],
            "primary_keys": [
                "transaction_id"
            ],
            "foreign_keys": {
                "fk_settlement_acquirer": {
                    "column_mapping": {
                        "acquirer_id": "acquirer_id"
                    },
                    "foreign_collection": "public.acquirers"
                },
                "fk_settlement_auth": {
                    "column_mapping": {
                        "auth_transaction_id": "transaction_id"
                    },
                    "foreign_collection": "public.auth_transactions"
                },
                "fk_settlement_issuer": {
                    "column_mapping": {
                        "issuer_id": "issuer_id"
                    },
                    "foreign_collection": "public.issuers"
                },
                "fk_settlement_merchant": {
                    "column_mapping": {
                        "merchant_id": "merchant_id"
                    },
                    "foreign_collection": "public.merchants"
                }
            }
        }
    ]
}